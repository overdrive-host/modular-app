<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Órdenes de Compra</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<div class="ordenes-container">
    <h2>Gestión de Órdenes de Compra</h2>
    <hr class="divider">

    <div class="form-container">
        <div class="form-group">
            <label for="filter-year">Año:</label>
            <select id="filter-year"></select>
        </div>
        <div class="form-group">
            <label for="filter-month">Mes:</label>
            <select id="filter-month"></select>
        </div>
        <div class="form-group form-group-button">
            <button id="import-btn">Importar</button>
            <input type="file" id="import-file" accept=".xlsx, .xls" style="display: none;">
        </div>
        <div class="form-group form-group-button">
            <button id="download-format-btn">Formato</button>
        </div>
        <div class="form-group form-group-button">
            <button id="export-btn">Exportar</button>
        </div>
    </div>

    <div id="success-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="success-message-container">
                <i id="success-icon" class="fas"></i>
                <div id="success-message" class="success-message"></div>
            </div>
        </div>
    </div>

    <div id="loading-import-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="spinner-container">
                <span class="loader"></span>
                <span class="spinner-text">Importando... <span id="import-progress">0%</span></span>
            </div>
        </div>
    </div>

    <div class="table-container">
        <table id="ordenes-compra-table">
            <thead>
                <tr>
                    <th><span class="column-title">Código</span> <svg class="filter-icon" data-column-index="0" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Generación</span> <svg class="filter-icon" data-column-index="1" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Autorización</span> <svg class="filter-icon" data-column-index="2" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Sociedad</span> <svg class="filter-icon" data-column-index="3" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Tipo Compra</span> <svg class="filter-icon" data-column-index="4" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Proveedor</span> <svg class="filter-icon" data-column-index="5" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Digitador</span> <svg class="filter-icon" data-column-index="6" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Nivel Actual</span> <svg class="filter-icon" data-column-index="7" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Nivel OC</span> <svg class="filter-icon" data-column-index="8" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Liberada</span> <svg class="filter-icon" data-column-index="9" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Total</span> <svg class="filter-icon" data-column-index="10" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Estado</span> <svg class="filter-icon" data-column-index="11" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                    <th><span class="column-title">Evento</span> <svg class="filter-icon" data-column-index="12" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"></path></svg><span class="resize-handle"></span></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div class="table-footer">
        <span id="total-records">0 registros</span>
    </div>
</div>
<script type="module" src="ordenes-compra.js"></script>
</body>
</html>